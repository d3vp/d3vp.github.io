{"pageProps":{"titles":["2.1 — Programming Basics","2.2 — Variables, Arithmetic & String operations","2.3 — Function Calls, Expressions","3.1 — Defining functions, Errors & Debugging","3.2 — Boolean Expressions, Comparison & Logical Operators","3.3 — Conditional execution using if statement","3.4 — for loop & String indexing, slicing","Python Style Guide","4.1 — Escape Characters & Controlling print()","4.2 — String methods & in operator","4.3 — while statement & Nested loops","4.4 — return statement & Importing modules","5.1 — Scope of Variables","5.2 — Lists & List Operations","5.3 — List Functions & Methods","5.4 — Tuples","6.1 — Object Identity, Immutability, Unpacking","6.2 — Sets","6.3 — Dictionaries","7.1 — Nested data structures & comparisons","7.2 — Iterables & comprehensions","7.3 — Reading and writing files","8.1 — Default arguments & Modules","8.2 — Handling Exceptions","9.1 — Object Oriented Programming (OOP)","9.2 — More on methods & __str__","10.1 — NumPy","10.2 — Plotting using Matplotlib","Week 10 — More on NumPy","11.1 — Root finding","11.2 — Interpolation & Curve fitting","12.1 — More NumPy & Linear algebra","12.2 — Solving a system of linear equations","12.3 — Numerical Integration","Week 13 — Binary search, Sorting, Random numbers"],"slugs":["Lecture-2.1","Lecture-2.2","Lecture-2.3.1","Lecture-3.1","Lecture-3.2","Lecture-3.3","Lecture-3.4","style-guide","Lecture-4.1","Lecture-4.2","Lecture-4.3","Lecture-4.4","Lecture-5.1","Lecture-5.2","Lecture-5.3","Lecture-5.4","Lecture-6.1","Lecture-6.2","Lecture-6.3","Lecture-7.1","Lecture-7.2","Lecture-7.3","Lecture-8.1","Lecture-8.2","Lecture-9.1","Lecture-9.2","Lecture-10.1","Lecture-10.2","Lecture-10.3","Lecture-11.1","Lecture-11.2","Lecture-12.1","Lecture-12.2","Lecture-12.3","Lecture-13"],"post":{"title":"10.1 — NumPy","slug":"Lecture-10.1","content":"<h1>What is NumPy?</h1>\n<ul>\n<li>The core library for scientific computing</li>\n<li>Provides a new data structure called an “array”\n<ul>\n<li>It is like a list, but more efficient</li>\n<li>Provides many functions that work with NumPy arrays</li>\n</ul>\n</li>\n<li><a href=\"https://numpy.org\">https://numpy.org</a></li>\n</ul>\n<h2>What is a NumPy array?</h2>\n<ul>\n<li>A NumPy array is a grid of values, with rows and columns.\n<ul>\n<li>It is multidimensional: it could be a linear array (like a list e.g. vector) or an array of arrays (like a list of lists e.g. matrix).</li>\n</ul>\n</li>\n<li>Unlike a regular Python list,\n<ul>\n<li>All the values in a NumPy array must have the same type.</li>\n<li>A NumPy array’s size cannot be changed after creation.\n<ul>\n<li>All such operations that change the size (e.g. appending/removing elements) result in a copy of the array.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Basic examples</h2>\n<python>import numpy as np\n\n# We can create a NumPy array from a Python list using the np.array() function.\narr = np.array([1, 2, 3])\nprint(arr)  \n# [1 2 3] \n# note the lack of commas in the output\n\nprint(type(arr))  # &#x3C;class 'numpy.ndarray'>\n\n\n# convert a range object to numpy array\nx = np.array(range(10, 20, 2))\nprint(x)  # [10 12 14 16 18]\n\n# convert a tuple object to numpy array\nx = np.array((1, 10, 100))\nprint(x)  # [ 1 10 100]\n</python>\n<p>We can specify the data type of elements when creating the array.</p>\n<python>import numpy as np\n\n# these floats will be converted to ints (by truncation)\nx = np.array([1.2, 3.14, 10.65], dtype=int)\nprint(x)  # [ 1 3 10]\nprint(x.dtype)  # int64\n\n# We can also specify a NumPy-defined data type\nx = np.array([10, 20, 30], dtype=np.float64)\nprint(x)  # [10. 20. 30.]\nprint(x.dtype)  # float64\n</python>\n<h2>Shape and dimensions of a NumPy array</h2>\n<ul>\n<li>Number of dimensions of NumPy array can be obtained by accessing the <inline-code>ndim</inline-code> attribute.\n<ul>\n<li>The number of dimensions is basically how many levels of nested arrays there are. e.g. 1D array, 2D array, etc.</li>\n</ul>\n</li>\n<li><inline-code>shape</inline-code> attribute of a NumPy array is a tuple containing size/length in each dimension.</li>\n</ul>\n<python>import numpy as np\n\nx = np.array([10, 20, 30])\nprint(x) # [10 20 30]\nprint(x.ndim) # 1\nprint(x.shape) # (3,)\n\nx = np.array([[10, 20, 30], [40, 50, 60]])\nprint(x)\n# [[10 20 30]\n#  [40 50 60]]\nprint(x.ndim) # 2\nprint(x.shape) # (2, 3) &#x3C;-- row, col\n</python>\n<h1>NumPy Operations</h1>\n<h2>Indexing</h2>\n<python>import numpy as np\n\narr = np.array([2, 4, 8])\nprint(arr[0], arr[1], arr[2])  # 2 4 8\n\n# we can modify existing elements.\narr[0] = 1\nprint(arr)  # [1 4 8]\n</python>\n<h2>Other ways to create arrays</h2>\n<python>import numpy as np\n\n# create an array of 0's, with shape (2,).\nprint(np.zeros(2))\n# [0. 0.] \n# dots above mean float values\n\n# create an array of all 1's, with shape (3,),\n# of integer type.\nprint(np.ones(3, dtype=int))  # [1 1 1]\n\n# create an array of shape (5,) filled with one value\nprint(np.full(5, 7))\n# [7 7 7 7 7]\n\n# create an array of 4 random values in the interval [0.0, 1.0).\nprint(np.random.random(4))\n[0.70260439 0.68529032 0.59847495 0.88655089]\n</python>\n<h2>Some useful numpy functions</h2>\n<python>import numpy as np\n\n# Similar to the built-in range() function, \n# we can use arguments start, stop and step.\nx = np.arange(10)\nprint(x)\n# [0 1 2 3 4 5 6 7 8 9]\n\n# Unlike range(), float numbers are allowed.\nx = np.arange(10.0, 20.0, 2.5)\nprint(x)\n# [10.  12.5 15.  17.5]\n</python>\n<p>When we want to create a list of evenly-spaced numbers, it is better to use <inline-code>np.linspace()</inline-code> than <inline-code>np.arange()</inline-code>.</p>\n<python>import numpy as np\n\n# Create an array of 5 evenly spaced numbers in interval [0, 1]\nx = np.linspace(0, 1, 5)\nprint(x)\n# [0. 0.25 0.5 0.75 1. ]\n\n# 7 evenly spaced numbers in interval [10, 100]\nx = np.linspace(10, 100, 7)\nprint(x)\n# [ 10. 25. 40. 55. 70. 85. 100.]\n</python>\n<h2>Broadcasting operations</h2>\n<ul>\n<li>Arithmetic operators on an array and a scalar (number) are applied to all elements of the array.</li>\n<li>This is known as <sc>broadcasting</sc>.</li>\n<li>It does not modify the given array; instead a new copy is created.</li>\n</ul>\n<python>import numpy as np\n\narr = np.linspace(-1.0, 5.0, 7)\nprint(arr)\n# [-1. 0. 1. 2. 3. 4. 5.]\n\n# Multiplication is broadcasted to each element.\nprint(arr * 6)\n# [-6. 0. 6. 12. 18. 24. 30.]\n\n# Unary minus\nprint(-arr)\n# [ 1. -0. -1. -2. -3. -4. -5.]\n\n# Other operators work in same way\nprint(arr / 5)\n# [-0.2 0. 0.2 0.4 0.6 0.8 1. ]\n\nprint(arr + 4)\n# [3. 4. 5. 6. 7. 8. 9.]\n\nprint((arr + 3) * 2)\n# [ 4. 6. 8. 10. 12. 14. 16.]\n</python>\n<p>Unlike Python lists, NumPy arrays implement operators such as <inline-code>*</inline-code> to perform arithmetic operations.</p>\n<python>import numpy as np\n\nx = [1, 2, 3] # Python list\ny = x * 5\nprint(y)\n# [1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]\n\nx = np.array([1, 2, 3])\ny = x * 5\nprint(y)\n# [ 5 10 15]\n</python>\n<p>NumPy also defines math functions that broadcast to all elements in the array.</p>\n<python>import numpy as np\n\narr = np.linspace(-1.0, 5.0, 7)\n\nprint(np.sin(arr))\n# [-0.841 0. 0.841 0.909 0.141 -0.757 -0.959]\n\nprint(np.exp(arr)) # e^x function\n# [ 0.368 1. 2.718 7.389 20.086 54.598 148.413]\n</python>\n<h2>Vector operations</h2>\n<p>Math operations between arrays are done element-wise.<br>\nIt is also called a <sc>vectorized</sc> operation.</p>\n<python>import numpy as np\n\na = np.array([34.0, -12.0, 5.0])\nb = np.array([68.0, 5.0, 20.0])\nprint(a + b)  # [102. -7. 25.]\nprint(a / b)  # [ 0.5 -2.4 0.25]\n</python>\n<h3>Example</h3>\n<p>Suppose we want to evaluate the expression below:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>100</mn></munderover><msqrt><mfrac><mrow><mi>k</mi><mi>π</mi></mrow><mn>100</mn></mfrac></msqrt><mi>s</mi><mi>i</mi><mi>n</mi><mfrac><mrow><mi>k</mi><mi>π</mi></mrow><mn>100</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">s = \\sum_{k=0}^{100} \\sqrt{\\frac{k \\pi}{100}} sin \\frac{k \\pi}{100}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.1032260000000003em;vertical-align:-1.302113em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.801113em;\"><span style=\"top:-1.8478869999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">0</span></span></span></span><span style=\"top:-3.0500049999999996em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.300005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mord mtight\">0</span><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.302113em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6765949999999998em;\"><span class=\"svg-align\" style=\"top:-4.4em;\"><span class=\"pstrut\" style=\"height:4.4em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.6365950000000002em;\"><span class=\"pstrut\" style=\"height:4.4em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:2.48em;\"><svg width=\"400em\" height=\"2.48em\" viewBox=\"0 0 400000 2592\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M424,2478\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl0 -0c4,-6.7,10,-10,18,-10 H400000\nv40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80\nh400000v40h-400000z\"></path></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7634050000000001em;\"><span></span></span></span></span></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></div>\n<python>import numpy as np\n\nk = np.arange(0, 101)\nx = k * (np.pi / 100)\ns = np.sum(np.sqrt(x) * np.sin(x))\nprint(s)  # 77.51389798916512\n</python>\n<h2>Slicing NumPy arrays</h2>\n<p>Similar to lists, we can slice a 1D NumPy array.</p>\n<python>import numpy as np\n\ny = np.array([0.0, 1.3, 5.0 , 10.9, 18.9, 28.7, 40.0])\nprint(y[1:4]) # print from index 1 until but not including index 4\n# [ 1.3 5. 10.9]\n\nprint(y[::-1]) # reversed copy\n# [40. 28.7 18.9 10.9 5. 1.3 0. ]\n</python>\n<h2>Copying NumPy arrays</h2>\n<ul>\n<li>We can use the <inline-code>array.copy()</inline-code> method to get a copy of an array.</li>\n<li>Changes to the copy will not propagate to the original array.</li>\n</ul>\n<python>import numpy as np\n\na = np.array([[1, 2, 3], [4, 5, 6]])\nprint(a)\n# [[1 2 3]\n#  [4 5 6]]\n\nb = a.copy()\nb[1][2] = 100\n\nprint(a)\n# [[1 2 3]\n#  [4 5 6]]\nprint(b)\n# [[  1   2   3]\n#  [  4   5 100]]\n</python>\n<h1>Matrix as 2D NumPy array</h1>\n<python>import numpy as np\n\n# convert a list of lists into 2D NumPy array\nm = np.array([[1, 2, 3], [4, 5, 6]])\nprint(m)\n# [[1 2 3]\n#  [4 5 6]]\n\n# create an array of all 0's of shape (2, 2).\n# By default, dtype is float64.\nprint(np.zeros((2, 2))) # (2, 2) is a tuple.\n# [[0. 0.]\n#  [0. 0.]]\n\n# create an array full of 7's, of shape (2, 3).\nprint(np.full((2, 3), 7))\n# [[7 7 7]\n#  [7 7 7]]\n\n# create an array of random values in interval [0, 1).\nprint(np.random.random((2, 2)))\n# [[0.1782372 0.35920979]\n#  [0.9368368 0.9005017 ]]\n\n# creates an identity matrix of shape (3, 3).\n# (ones along the diagonal)\nprint(np.eye(3))\n# [[1. 0. 0.]\n#  [0. 1. 0.]\n#  [0. 0. 1.]]\n</python>\n<h2>Reshaping arrays</h2>\n<python>import numpy as np\n\n# We can also create a matrix from a 1D array, using np.reshape()\nc = np.arange(6)\nprint(c)  # [0 1 2 3 4 5]\n\n# change the shape to (2, 3).\nd = np.reshape(c, (2, 3))\nprint(d)\n# [[0 1 2]\n#  [3 4 5]]\n</python>\n<h2>Indexing a 2D array</h2>\n<p>We can index into a multi-dimensional NumPy array by providing a comma-separated list of the indices.</p>\n<python>import numpy as np\n\nm = np.array([[1, 2, 3], [4, 5, 6]])\nprint(m.shape)  # (2, 3)\n\nprint(m[0, 0])  # 1\nprint(m[0, 1])  # 2\nprint(m[1, 0])  # 4\nprint(m[1, 2])  # 6\n</python>\n<h2>Matrix (2D array) operations</h2>\n<python>import numpy as np\n\n# Broadcasting\nb = np.array([[1, 4, 5], [9, 7, 4]])\nprint(2 + b)\n# [[ 3 6 7]\n#  [11 9 6]]\n\nprint(np.sin(b))\n# [[ 0.841 -0.757 -0.959]\n#  [ 0.412 0.657 -0.757]]\n\n# Element-wise product of matrices\nb = np.array([[1, 4, 5], [9, 7, 4]])\nc = np.array([[0, 1, 2], [3, 4, 5]])\n\n# Note: both matrices must have the same shape\nprint(b * c)\n# [[ 0 4 10]\n#  [27 28 20]]\n</python>\n<p>To perform matrix multiplication, we use the dot() function.</p>\n<python>import numpy as np\n\nb = np.array([[1, 4, 5], [9, 7, 4]])\nd = np.array([[ 4, 2], [ 9, 8], [-3, 6]])\n\n# shapes must be (M, N) dot (N, P) --> (M, P)\nprint(np.dot(b, d))\n# [[25 64]\n#  [87 98]]\n</python>\n<h2>Slicing a 2D array</h2>\n<img src=\"week10/slicing.png\" style=\"width: 80%; margin: 2em 0 0 0;\">\n<p>(source: <a href=\"https://github.com/ContinuumIO/tutorials/blob/master/NumPy.pdf\">https://github.com/ContinuumIO/tutorials/blob/master/NumPy.pdf</a>)</p>\n<python>import numpy as np\n\na = np.array([[ 1,  2,  3,  4,  5,  6],\n              [11, 12, 13, 14, 15, 16],\n              [31, 32, 33, 34, 35, 36],\n              [41, 42, 43, 44, 45, 46],\n              [51, 52, 53, 54, 55, 56],\n              [61, 62, 63, 64, 65, 66]])\n\nprint(a[:, 1])\n# [ 2 12 32 42 52 62]\n\nprint(a[::2, ::3])\n# [[ 1  4]\n#  [31 34]\n#  [51 54]]\n\nprint(a[1, 2:5])\n# [13 14 15]\n\nprint(a[3:5, 4:6])\n# [[45 46]\n#  [55 56]]\n\n# Try more slicing!\n</python>\n<p><img style=\"display: block; margin: 3em auto; width: 15%;\" src=\"../assets/divider.svg\"></p>"}},"__N_SSG":true}